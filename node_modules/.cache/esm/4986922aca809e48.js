let mongoose,uniqueValidator,Joi;_ca8‍.x([["default",()=>_ca8‍.o]]);_ca8‍.w("mongoose",[["default",["mongoose"],function(v){mongoose=v}]]);_ca8‍.w("mongoose-unique-validator",[["default",["uniqueValidator"],function(v){uniqueValidator=v}]]);_ca8‍.w("joi",[["default",["Joi"],function(v){Joi=v}]]); 
 

const userSchema = new mongoose.Schema({
    name : {
        type :String ,
        required : true
    } , 
    passwordHash : {
        type : String ,
        required : true
    },
    email : {
        type : String ,
        unique : true ,
        required : true
    } ,
    
    phone : { 
           type: String ,
           required : true
    } ,
    isAdmin : {
        type : Boolean , 
        default : false
    } ,
    street :{
        type : String , 
        default : ''
    } ,
    apartement : {
        type :String ,
        default : ''
    } ,
    zip : {
        type : String ,
        default :''
    } ,
    city : {
        type : String ,
        default : ''
    } ,
    country : {
        type :String ,
        default : ''
    } ,

})  

userSchema.plugin(uniqueValidator)




userSchema.method('toJSON', function(){
    const { __v, ...object } = this.toObject();
    const { _id:id, ...result } = object;
    return { ...result, id };
}); 

_ca8‍.d(userSchema);