let mongoose,orderItemSchema;_459‍.x([["mycart",()=>mycart],["addCart",()=>addCart]]);_459‍.w("mongoose",[["default",["mongoose"],function(v){mongoose=v}]]);_459‍.w("../models/oder-item",[["default",["orderItemSchema"],function(v){orderItemSchema=v}]]); 
 


const OrderItem = mongoose.model("OrderItem " , orderItemSchema) ;

const Product = mongoose.model(" Product" ,productSchema) ; 


const mycart = async(req ,res) => {
    try {
        const c = await OrderItem.find().populate('product') ;
    if(c) {
        res.status(200).json(c)
    }
    } catch (error) {
        _459‍.g.console.error(error)
    }
}

const addCart = async( req ,res) => {
    try {  
        const {quantity ,  product  }  = req.body  ;  
        
        let cart = new OrderItem ({
            quantity , 
             product
        })
            _459‍.g.console.log("Mes nouveaux ITEMS sont ==>" , cart) ;
            await cart.save() 
       if(cart) {
           res.status(201).send("ITEM ajouté avec success")
       } 
       else {
           throw new Error ("probléme d'jout ITEM ")
       }
         
    } catch (error) {
        res.status(400).send(error)
    }
} 


